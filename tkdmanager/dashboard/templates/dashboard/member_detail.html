{% extends "base_generic.html" %}

{% block content %}
  <h1>{{ member.last_name }}, {{ member.first_name }} ({{ member.idnumber }}) - {% if member.belt %}{{ member.get_belt_display }}{% else %}No Belt{% endif %}</h1>
  <button type="button" class="collapsible">Show more info</button>
  <div class="content">
    <p>
      {% if member.date_of_birth %}
        DOB - {{ member.date_of_birth|date:"d/m/y" }}
      {% endif %}</p>
  </div>
  <br>
  <a href="{% url 'update-member' member.pk %}">Edit</a> <a href="{% url 'delete-member' member.pk %}">Delete</a>
  </p>
  <div style="margin-left:20px;margin-top:20px">
    <h4>Gradings - <a href="{% url 'add-grading-result' %}?member_id={{ member.id|urlencode }}">Add</a></h4>
    {% if member.member2gradings.all %}
    <ul>
        {% for gr in member.member2gradings.all %}
            <li><strong><a href="{{ gr.get_absolute_url }}">{{ gr.date|date:"d/m/y" }}</a> ({{ gr.type }}) - {{ gr.get_forbelt_display }}
            {% if gr.award_set.all %}
            {% for award in gr.award_set.all %} - {{award}}{% endfor %}
            {% endif %}            
            </strong></li>
        {% endfor %}
    </ul>
    {% else %}
        <p>This member has not graded.</p>
    {% endif %}
  </div>
{% endblock %}